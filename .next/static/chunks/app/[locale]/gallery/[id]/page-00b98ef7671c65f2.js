(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[18],{1420:(e,t,a)=>{"use strict";a.d(t,{FavoriteButtonCompact:()=>n,Z:()=>l});var r=a(5155),s=a(2115);function l(e){let{itemId:t,initialIsFavorite:a=!1,className:l=""}=e,[n,c]=(0,s.useState)(a),[i,d]=(0,s.useState)(!1),o=async()=>{d(!0);try{let e=await fetch("/api/favorites",{method:n?"DELETE":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemId:t})});if(e.ok)c(!n),n?console.log("Retir\xe9 des favoris !"):console.log("Ajout\xe9 aux favoris !");else{let t=await e.json();401===e.status?window.location.href="/login":console.error("Erreur:",t.error)}}catch(e){console.error("Erreur r\xe9seau:",e)}finally{d(!1)}};return(0,r.jsxs)("button",{onClick:o,disabled:i,className:"group relative flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed ".concat(l),title:n?"Retirer des favoris":"Ajouter aux favoris",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("svg",{className:"w-5 h-5 transition-all duration-300 ".concat(n?"text-red-500 scale-110":"text-gray-400 dark:text-gray-500 group-hover:text-red-400 group-hover:scale-110"),fill:n?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2*!n,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),i&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin opacity-60"})})]}),(0,r.jsx)("span",{className:"text-sm transition-colors ".concat(n?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400 group-hover:text-red-500"),children:n?"Favori":"Ajouter aux favoris"}),n&&(0,r.jsx)("div",{className:"absolute inset-0 pointer-events-none",children:(0,r.jsx)("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-2",children:(0,r.jsx)("div",{className:"text-red-500 text-xs animate-ping",children:"\uD83D\uDC96"})})})]})}function n(e){let{itemId:t,initialIsFavorite:a=!1}=e,[l,n]=(0,s.useState)(a),[c,i]=(0,s.useState)(!1),d=async()=>{i(!0);try{let e=await fetch("/api/favorites",{method:l?"DELETE":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemId:t})});e.ok?n(!l):401===e.status&&(window.location.href="/login")}catch(e){console.error("Erreur:",e)}finally{i(!1)}};return(0,r.jsx)("button",{onClick:d,disabled:c,className:"p-2 rounded-full transition-all duration-300 hover:scale-110 disabled:opacity-50 ".concat(l?"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400":"bg-white/80 text-gray-500 hover:bg-red-50 hover:text-red-500 dark:bg-slate-800/80 dark:text-gray-400 dark:hover:bg-red-900/20"),title:l?"Retirer des favoris":"Ajouter aux favoris",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:l?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2*!l,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})}},5635:(e,t,a)=>{Promise.resolve().then(a.bind(a,7472)),Promise.resolve().then(a.bind(a,8338)),Promise.resolve().then(a.bind(a,8585))},8338:(e,t,a)=>{"use strict";a.d(t,{GalleryContent:()=>k});var r=a(5155),s=a(6874),l=a.n(s),n=a(1420),c=a(2115),i=a(3491);function d(e){let{itemId:t,title:a,className:s=""}=e,[l,n]=(0,c.useState)(!1),[d,o]=(0,c.useState)(!1),{t:x}=(0,i.c)(),g=async()=>{if(!l){n(!0);try{await new Promise(e=>setTimeout(e,2e3));let e=document.createElement("a"),t=new Blob(["# "+a+"\n\nGallery content would be here..."],{type:"text/plain"});e.href=URL.createObjectURL(t),e.download="".concat(a.replace(/[^a-z0-9]/gi,"_").toLowerCase(),".txt"),document.body.appendChild(e),e.click(),document.body.removeChild(e),o(!0),setTimeout(()=>{o(!1),n(!1)},2e3)}catch(e){console.error("Download failed:",e),n(!1)}}};return(0,r.jsx)("button",{onClick:g,disabled:l,className:"flex items-center px-6 py-3 rounded-xl transition-all duration-300 ".concat(d?"bg-green-600 hover:bg-green-700 text-white":l?"bg-blue-400 text-white cursor-not-allowed":"theme-button-secondary hover:scale-105"," ").concat(s),children:d?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),x("gallery.downloadComplete")]}):l?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),x("gallery.downloading")]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"\uD83D\uDCE5 ",x("gallery.download")]})})}function o(e){let{itemId:t,title:a,className:s=""}=e,[l,n]=(0,c.useState)(!1),[d,o]=(0,c.useState)(!1),x=(0,c.useRef)(null),{t:g,locale:m}=(0,i.c)();(0,c.useEffect)(()=>{let e=e=>{x.current&&!x.current.contains(e.target)&&n(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let h=()=>"".concat(window.location.origin,"/").concat(m,"/gallery/").concat(t),u=async()=>{try{await navigator.clipboard.writeText(h()),o(!0),setTimeout(()=>{o(!1),n(!1)},2e3)}catch(e){console.error("Failed to copy: ",e)}},p=e=>{let t=encodeURIComponent(a),r=encodeURIComponent(h()),s="";switch(e){case"twitter":s="https://twitter.com/intent/tweet?text=".concat(t,"&url=").concat(r);break;case"facebook":s="https://www.facebook.com/sharer/sharer.php?u=".concat(r);break;case"reddit":s="https://reddit.com/submit?title=".concat(t,"&url=").concat(r);break;case"telegram":s="https://t.me/share/url?url=".concat(r,"&text=").concat(t);break;case"whatsapp":s="https://wa.me/?text=".concat(t,"%20").concat(r)}s&&(window.open(s,"_blank","width=600,height=400"),n(!1))};return(0,r.jsxs)("div",{className:"relative",ref:x,children:[(0,r.jsxs)("button",{onClick:()=>n(!l),className:"flex items-center px-6 py-3 rounded-xl transition-all duration-300 theme-button-secondary hover:scale-105 ".concat(s),children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})}),"\uD83D\uDCE4 ",g("gallery.share")]}),l&&(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-64 bg-white dark:bg-slate-800 rounded-lg shadow-lg border border-slate-200 dark:border-slate-700 py-2 z-50",children:[(0,r.jsxs)("button",{onClick:u,className:"flex items-center w-full px-4 py-2 text-sm transition-colors ".concat(d?"text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/20":"text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"),children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d?(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}):(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),g(d?"gallery.linkCopied":"gallery.copyLink")]}),(0,r.jsx)("div",{className:"border-t border-slate-200 dark:border-slate-700 my-1"}),(0,r.jsx)("div",{className:"px-4 py-2 text-xs text-slate-500 dark:text-slate-400",children:g("gallery.shareVia")}),(0,r.jsxs)("button",{onClick:()=>p("twitter"),className:"flex items-center w-full px-4 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[(0,r.jsx)("span",{className:"text-blue-400 text-lg mr-3",children:"\uD83D\uDC26"}),"Twitter"]}),(0,r.jsxs)("button",{onClick:()=>p("facebook"),className:"flex items-center w-full px-4 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[(0,r.jsx)("span",{className:"text-blue-600 text-lg mr-3",children:"\uD83D\uDCD8"}),"Facebook"]}),(0,r.jsxs)("button",{onClick:()=>p("reddit"),className:"flex items-center w-full px-4 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[(0,r.jsx)("span",{className:"text-orange-500 text-lg mr-3",children:"\uD83D\uDFE0"}),"Reddit"]}),(0,r.jsxs)("button",{onClick:()=>p("telegram"),className:"flex items-center w-full px-4 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[(0,r.jsx)("span",{className:"text-blue-500 text-lg mr-3",children:"✈️"}),"Telegram"]}),(0,r.jsxs)("button",{onClick:()=>p("whatsapp"),className:"flex items-center w-full px-4 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[(0,r.jsx)("span",{className:"text-green-500 text-lg mr-3",children:"\uD83D\uDCAC"}),"WhatsApp"]})]})]})}function x(e){let{itemId:t}=e,[a,s]=(0,c.useState)([]),[l,n]=(0,c.useState)(""),[i,d]=(0,c.useState)(!1),[o,x]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{try{if((await fetch("/api/favorites")).ok){let e=document.cookie.split(";").find(e=>e.trim().startsWith("session="));if(e){let t=JSON.parse(atob(e.split("=")[1]));x(t)}}}catch(e){console.error("Failed to check session")}})(),g()},[t]);let g=async()=>{try{let e=await fetch("/api/comments?itemId=".concat(t));if(e.ok){let t=await e.json();s(t)}}catch(e){console.error("Failed to load comments")}},m=async e=>{if(e.preventDefault(),l.trim()&&o){d(!0);try{let e=await fetch("/api/comments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:l.trim(),itemId:t})});if(e.ok){let t=await e.json();s([t,...a]),n("")}else{let t=await e.json();alert(t.error||"Failed to post comment")}}catch(e){alert("Failed to post comment")}finally{d(!1)}}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold text-white",children:["Comments (",a.length,")"]}),o?(0,r.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,r.jsx)("textarea",{value:l,onChange:e=>n(e.target.value),placeholder:"Add a comment...",rows:3,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none",disabled:i}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-400",children:["Commenting as ",o.email]}),(0,r.jsx)("button",{type:"submit",disabled:i||!l.trim(),className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Posting...":"Post Comment"})]})]}):(0,r.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 text-center",children:[(0,r.jsx)("p",{className:"text-gray-400 mb-2",children:"Please log in to comment"}),(0,r.jsx)("a",{href:"/en/login",className:"text-purple-400 hover:text-purple-300 transition-colors",children:"Login to comment"})]}),(0,r.jsx)("div",{className:"space-y-4",children:0===a.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDCAC"}),(0,r.jsx)("p",{className:"text-gray-400",children:"No comments yet. Be the first to comment!"})]}):a.map(e=>(0,r.jsx)("div",{className:"bg-white/5 rounded-lg p-4 animate-fade-in-up",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3 mb-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-sm font-bold text-white",children:e.user.email.charAt(0).toUpperCase()})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-white",children:e.user.email}),(0,r.jsx)("span",{className:"text-xs text-gray-400",children:(e=>{let t=new Date(e),a=Math.floor((new Date().getTime()-t.getTime())/6e4);return a<1?"Just now":a<60?"".concat(a,"m ago"):a<1440?"".concat(Math.floor(a/60),"h ago"):t.toLocaleDateString()})(e.createdAt)})]}),(0,r.jsx)("p",{className:"text-gray-300 text-sm mt-1 leading-relaxed",children:e.content})]})]})},e.id))})]})}function g(e){let{mangaId:t,chapters:a,locale:s,className:n=""}=e,[i,d]=(0,c.useState)(!0),o=(0,c.useMemo)(()=>{let e=new Map;for(let t of(a.forEach(t=>{let a=t.language.toUpperCase();e.has(a)||e.set(a,[]),e.get(a).push(t)}),e.values()))t.sort((e,t)=>(Number(e.number)||0)-(Number(t.number)||0)),i&&t.reverse();return Array.from(e.entries()).sort((e,t)=>e[0].localeCompare(t[0]))},[a,i]);return 0===a.length?(0,r.jsxs)("div",{className:n,children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"Chapitres"})}),(0,r.jsxs)("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-800/50 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600",children:[(0,r.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCDA"}),(0,r.jsx)("h4",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Aucun chapitre disponible"}),(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-4 max-w-md mx-auto",children:"Ce manga n'a pas encore de chapitres publi\xe9s ou les chapitres ne sont pas accessibles via l'API MangaDex."}),(0,r.jsxs)("div",{className:"text-sm text-gray-400 dark:text-gray-500",children:[(0,r.jsxs)("p",{children:["• V\xe9rifiez sur ",(0,r.jsx)("a",{href:"https://mangadex.org/title/".concat(t),target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"MangaDex.org"})]}),(0,r.jsx)("p",{children:"• Les chapitres peuvent \xeatre en cours de traduction"}),(0,r.jsx)("p",{children:"• Certains mangas sont des one-shots sans chapitres"})]})]})]}):(0,r.jsxs)("div",{className:n,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold",children:["Chapitres (",a.length,")"]}),(0,r.jsxs)("button",{onClick:()=>d(e=>!e),className:"text-sm text-blue-500 hover:underline",children:["Trier: ",i?"Desc":"Asc"]})]}),o.map(e=>{let[a,n]=e;return(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:a}),(0,r.jsx)("div",{className:"rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700",children:n.map((e,a)=>(0,r.jsxs)(l(),{href:"/".concat(s,"/reader/").concat(t,"/").concat(e.id),className:"grid grid-cols-[auto_1fr_auto] gap-3 items-center px-3 py-2 hover:bg-gray-50 dark:hover:bg-gray-900/40 ".concat(a!==n.length-1?"border-b border-gray-100 dark:border-gray-800":""),children:[(0,r.jsxs)("div",{className:"text-xs px-2 py-1 rounded bg-gray-200 dark:bg-gray-700",children:["Ch. ",e.number||"-"]}),(0,r.jsxs)("div",{className:"text-sm truncate",children:[(0,r.jsx)("span",{className:"mr-2",children:e.title||"—"}),e.groups&&e.groups.length>0&&(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:["[",e.groups.slice(0,2).join(", "),e.groups.length>2?"…":"","]"]})]}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:function(e){if(!e)return"";let t=new Date(e),a=Math.floor((Date.now()-t.getTime())/1e3);if(a<60)return"".concat(a,"s");let r=Math.floor(a/60);if(r<60)return"".concat(r,"m");let s=Math.floor(r/60);if(s<24)return"".concat(s,"h");let l=Math.floor(s/24);return"".concat(l,"d")}(e.readableAt)})]},e.id))})]},a)})]})}let m=new Map;function h(e){let{language:t,className:a=""}=e,{name:s,flag:l,color:n}={en:{name:"English",flag:"\uD83C\uDDFA\uD83C\uDDF8",color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},fr:{name:"Fran\xe7ais",flag:"\uD83C\uDDEB\uD83C\uDDF7",color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"},es:{name:"Espa\xf1ol",flag:"\uD83C\uDDEA\uD83C\uDDF8",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},de:{name:"Deutsch",flag:"\uD83C\uDDE9\uD83C\uDDEA",color:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"},it:{name:"Italiano",flag:"\uD83C\uDDEE\uD83C\uDDF9",color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},pt:{name:"Portugu\xeas",flag:"\uD83C\uDDF5\uD83C\uDDF9",color:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"},ru:{name:"Русский",flag:"\uD83C\uDDF7\uD83C\uDDFA",color:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"},ja:{name:"日本語",flag:"\uD83C\uDDEF\uD83C\uDDF5",color:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200"},ko:{name:"한국어",flag:"\uD83C\uDDF0\uD83C\uDDF7",color:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200"},zh:{name:"中文",flag:"\uD83C\uDDE8\uD83C\uDDF3",color:"bg-teal-100 text-teal-800 dark:bg-teal-900 dark:text-teal-200"}}[t.toLowerCase()]||{name:t.toUpperCase(),flag:"\uD83C\uDF10",color:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"};return(0,r.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ".concat(n," ").concat(a),children:[(0,r.jsx)("span",{className:"text-sm",children:l}),(0,r.jsx)("span",{children:s})]})}[{id:"423e2eae-a7a2-4a8b-ac03-a8351462d71d",name:"Romance",group:"genre"},{id:"f4122d2c-aa89-4b54-b1a2-50bb9d2305f1",name:"Action",group:"genre"},{id:"4d32cc48-9f21-4c39-9f10-fc52eac9e8b5",name:"Comedy",group:"genre"},{id:"b29d6a3d-1560-4e85-bad6-b43d15e319e6",name:"Drama",group:"genre"},{id:"cdc58593-87cd-4a16-a59d-d1d3480c0723",name:"Fantasy",group:"genre"},{id:"b1e97889-25b2-4c2d-bfdc-9c9d3bb1b978",name:"Sci-Fi",group:"genre"},{id:"cdc58593-87cd-4a16-a59d-d1d3480c0723",name:"Horror",group:"genre"},{id:"e5300a9d-2b6c-4b9d-9b1d-3d3e3e3e3e3e",name:"Slice of Life",group:"genre"},{id:"e197df38-d0e3-4b22-8a57-43e1a1976f3a",name:"Ecchi",group:"content"},{id:"b1e97889-25b2-4c2d-bfdc-9c9d3bb1b978",name:"Harem",group:"content"},{id:"cdc58593-87cd-4a16-a59d-d1d3480c0723",name:"Isekai",group:"content"},{id:"e5300a9d-2b6c-4b9d-9b1d-3d3e3e3e3e3e",name:"Mecha",group:"content"},{id:"f4122d2c-aa89-4b54-b1a2-50bb9d2305f1",name:"School Life",group:"content"},{id:"4d32cc48-9f21-4c39-9f10-fc52eac9e8b5",name:"Supernatural",group:"content"},{id:"2d1f5d56-a1e5-4d8d-9c49-ec6b7009e458",name:"Shounen",group:"demographic"},{id:"e197df38-d0e3-4b22-8a57-43e1a1976f3a",name:"Shoujo",group:"demographic"},{id:"cdc58593-87cd-4a16-a59d-d1d3480c0723",name:"Seinen",group:"demographic"},{id:"b1e97889-25b2-4c2d-bfdc-9c9d3bb1b978",name:"Josei",group:"demographic"},{id:"f4122d2c-aa89-4b54-b1a2-50bb9d2305f1",name:"Adventure",group:"theme"},{id:"4d32cc48-9f21-4c39-9f10-fc52eac9e8b5",name:"Mystery",group:"theme"},{id:"cdc58593-87cd-4a16-a59d-d1d3480c0723",name:"Psychological",group:"theme"},{id:"e5300a9d-2b6c-4b9d-9b1d-3d3e3e3e3e3e",name:"Sports",group:"theme"},{id:"b1e97889-25b2-4c2d-bfdc-9c9d3bb1b978",name:"Thriller",group:"theme"},{id:"f4122d2c-aa89-4b54-b1a2-50bb9d2305f1",name:"War",group:"theme"}].forEach(e=>{m.set(e.name.toLowerCase(),e.id),m.set(e.name,e.id)}),a(9509);let u="https://api.mangadex.org";async function p(e){try{let t=e.startsWith("/")?"".concat("").concat(e):e,a=await fetch(t,{headers:{Accept:"application/json","User-Agent":"MangaView/1.0"},next:{revalidate:300}});if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));return await a.json()}catch(t){throw console.error("Failed to fetch from ".concat(e,":"),t),t}}async function b(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];try{let a="".concat(u,"/at-home/server/").concat(e),{baseUrl:r,chapter:s}=await p(a),l=t?s.dataSaver:s.data,n=t?"data-saver":"data";return l.map(e=>"".concat(r,"/").concat(n,"/").concat(s.hash,"/").concat(e))}catch(t){console.error("Failed to fetch chapter pages for ".concat(e,":"),t);try{let t=(await p("".concat(u,"/chapter/").concat(e))).data.attributes.pages||6;return Array.from({length:t},(e,t)=>"placeholder://page-".concat(t+1))}catch(t){throw console.error("Fallback also failed for ".concat(e,":"),t),Error("Unable to load chapter pages. Please try again later.")}}}async function y(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return b(e,t)}function f(e){let{mangaId:t,chapters:a,locale:s,className:n=""}=e,{t:d}=(0,i.c)(),[o,x]=(0,c.useState)(null),[g,m]=(0,c.useState)([]),[h,u]=(0,c.useState)(!1),[p,b]=(0,c.useState)(null);(0,c.useEffect)(()=>{a.length>0&&!o&&x(a[0])},[a,o]),(0,c.useEffect)(()=>{o&&(async()=>{u(!0),b(null);try{let e=await y(o.id);e.length>0&&e[0].startsWith("placeholder://")?(b("Ce chapitre n'est pas encore disponible en preview"),m([])):m(e.slice(0,6))}catch(e){console.error("Failed to load chapter preview:",e),b("Impossible de charger le preview de ce chapitre. Veuillez r\xe9essayer."),m([])}finally{u(!1)}})()},[t,o]);let f=e=>{x(e)},j=e=>{let t=e.title?" - ".concat(e.title):"";return"Ch. ".concat(e.number).concat(t," (").concat(e.language.toUpperCase(),")")};return 0===a.length?(0,r.jsx)("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg border border-gray-200 dark:border-gray-700 rounded-2xl p-8 ".concat(n),children:(0,r.jsxs)("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[(0,r.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCDA"}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Aucun chapitre disponible"}),(0,r.jsx)("p",{children:"Ce manga n'a pas encore de chapitres publi\xe9s."})]})}):(0,r.jsxs)("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg border border-gray-200 dark:border-gray-700 rounded-2xl p-8 ".concat(n),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:d("gallery.preview")}),o&&(0,r.jsx)(l(),{href:"/".concat(s,"/reader/").concat(t,"/").concat(o.id),className:"text-blue-600 dark:text-blue-400 hover:underline text-sm font-medium",children:"Lire le chapitre complet →"})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Choisir un chapitre pour le preview"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto",children:a.map(e=>(0,r.jsx)("button",{onClick:()=>f(e),className:"px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ".concat((null==o?void 0:o.id)===e.id?"bg-blue-600 text-white shadow-md":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:j(e)},e.id))})]}),o&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:j(o)}),o.pages&&(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.pages," pages"]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(l(),{href:"/".concat(s,"/reader/").concat(t,"/").concat(o.id),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"\uD83D\uDCD6 Lire"}),a.length>1&&(0,r.jsx)("button",{onClick:()=>{let e=a.findIndex(e=>e.id===o.id);x(a[e+1]||a[0])},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm font-medium",children:"⏭️ Suivant"})]})]})}),h?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[(0,r.jsx)("div",{className:"text-2xl mb-2",children:"⏳"}),(0,r.jsx)("p",{children:"Chargement du preview..."})]}),(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:Array.from({length:6},(e,t)=>(0,r.jsx)("div",{className:"aspect-[3/4] bg-gray-200 dark:bg-gray-600 rounded-lg animate-pulse"},t))})]}):p?(0,r.jsxs)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[(0,r.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDCDA"}),(0,r.jsx)("p",{className:"mb-4",children:p}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("button",{onClick:()=>o&&f(o),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"R\xe9essayer"}),(0,r.jsx)("div",{className:"text-sm opacity-75",children:"Ou cliquez sur un autre chapitre ci-dessus"})]})]}):g.length>0?(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:g.map((e,a)=>(0,r.jsxs)("div",{className:"group aspect-[3/4] bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-300 hover:scale-105 cursor-pointer relative",onClick:()=>{window.location.href="/".concat(s,"/reader/").concat(t,"/").concat(o.id)},children:[(0,r.jsx)("img",{src:e,alt:"Page ".concat(a+1),className:"w-full h-full object-cover",loading:"lazy"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,r.jsxs)("div",{className:"absolute bottom-2 left-2 right-2 text-white",children:[(0,r.jsxs)("div",{className:"text-sm font-medium",children:["Page ",a+1]}),(0,r.jsx)("div",{className:"text-xs opacity-80",children:"Cliquer pour lire"})]})}),(0,r.jsx)("div",{className:"absolute top-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded-full",children:a+1})]},a))}):(0,r.jsxs)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[(0,r.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDCC4"}),(0,r.jsx)("p",{children:"Aucune page disponible pour ce chapitre"})]})]}),a.length>0&&(0,r.jsxs)("div",{className:"mt-6 flex flex-wrap gap-3 justify-center",children:[(0,r.jsx)(l(),{href:"/".concat(s,"/reader/").concat(t,"/").concat(a[0].id),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"\uD83D\uDCD6 Premier chapitre"}),(0,r.jsx)(l(),{href:"/".concat(s,"/reader/").concat(t,"/").concat(a[a.length-1].id),className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium",children:"\uD83D\uDCDA Dernier chapitre"}),a.length>2&&(0,r.jsx)(l(),{href:"/".concat(s,"/reader/").concat(t,"/").concat(a[Math.floor(a.length/2)].id),className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"\uD83C\uDFAF Chapitre du milieu"})]})]})}function j(e){let{mangaId:t,chapters:a,currentChapterId:s,locale:n,className:d=""}=e,{t:o}=(0,i.c)(),[x,g]=(0,c.useState)(!1);if(0===a.length)return null;let m=a.findIndex(e=>e.id===s),h=m>0?a[m-1]:null,u=m<a.length-1?a[m+1]:null,p=e=>{let t=e.title?" - ".concat(e.title):"";return"Ch. ".concat(e.number).concat(t)},b=e=>{let t={en:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",fr:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",es:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",de:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",it:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",pt:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",ru:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",ja:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200",ko:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200",zh:"bg-teal-100 text-teal-800 dark:bg-teal-900 dark:text-teal-200"};return t[e.toLowerCase()]||t.en};return(0,r.jsxs)("div",{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur-md border border-gray-200 dark:border-gray-700 rounded-lg p-4 ".concat(d),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Navigation rapide"}),(0,r.jsx)("button",{onClick:()=>g(!x),className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:x?"R\xe9duire":"D\xe9velopper"})]}),s&&m>=0&&(0,r.jsx)("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Chapitre actuel:"}),(0,r.jsx)("div",{className:"font-medium text-blue-800 dark:text-blue-200",children:p(a[m])})]}),(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(b(a[m].language)),children:a[m].language.toUpperCase()})]})}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[h?(0,r.jsx)(l(),{href:"/".concat(n,"/reader/").concat(t,"/").concat(h.id),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"← Pr\xe9c\xe9dent"}):(0,r.jsx)("div",{className:"px-4 py-2 text-gray-400 dark:text-gray-500",children:"← Pr\xe9c\xe9dent"}),(0,r.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[m+1," / ",a.length]}),u?(0,r.jsx)(l(),{href:"/".concat(n,"/reader/").concat(t,"/").concat(u.id),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Suivant →"}):(0,r.jsx)("div",{className:"px-4 py-2 text-gray-400 dark:text-gray-500",children:"Suivant →"})]}),x&&(0,r.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:a.map((e,a)=>(0,r.jsxs)(l(),{href:"/".concat(n,"/reader/").concat(t,"/").concat(e.id),className:"flex items-center justify-between p-3 rounded-lg transition-colors ".concat(e.id===s?"bg-blue-100 dark:bg-blue-900/30 border border-blue-300 dark:border-blue-700":"bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-700/70"),children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat(e.id===s?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400"),children:a+1}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:p(e)}),e.pages&&(0,r.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.pages," pages"]})]})]}),(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(b(e.language)),children:e.language.toUpperCase()})]},e.id))}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,r.jsx)(l(),{href:"/".concat(n,"/reader/").concat(t,"/").concat(a[0].id),className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"\uD83D\uDCD6 Premier"}),(0,r.jsx)(l(),{href:"/".concat(n,"/reader/").concat(t,"/").concat(a[a.length-1].id),className:"px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm font-medium",children:"\uD83D\uDCDA Dernier"}),a.length>2&&(0,r.jsx)(l(),{href:"/".concat(n,"/reader/").concat(t,"/").concat(a[Math.floor(a.length/2)].id),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:"\uD83C\uDFAF Milieu"})]})]})}function v(e){let{mangaId:t,chapters:a,locale:s,className:l=""}=e,[n,i]=(0,c.useState)("preview");return 0===a.length?(0,r.jsx)("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg border border-gray-200 dark:border-gray-700 rounded-2xl p-8 ".concat(l),children:(0,r.jsxs)("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[(0,r.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCDA"}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Aucun chapitre disponible"}),(0,r.jsx)("p",{children:"Ce manga n'a pas encore de chapitres publi\xe9s."})]})}):(0,r.jsxs)("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg border border-gray-200 dark:border-gray-700 rounded-2xl p-8 ".concat(l),children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"\uD83C\uDF8C Lecteur de Manga Interactif"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"D\xe9couvrez et naviguez entre les chapitres avec facilit\xe9"})]}),(0,r.jsx)("div",{className:"flex justify-center mb-6",children:(0,r.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:[(0,r.jsx)("button",{onClick:()=>i("preview"),className:"px-6 py-2 rounded-md text-sm font-medium transition-all duration-200 ".concat("preview"===n?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:"\uD83D\uDCD6 Preview des Chapitres"}),(0,r.jsx)("button",{onClick:()=>i("navigation"),className:"px-6 py-2 rounded-md text-sm font-medium transition-all duration-200 ".concat("navigation"===n?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:"\uD83E\uDDED Navigation Rapide"})]})}),"preview"===n?(0,r.jsx)(f,{mangaId:t,chapters:a,locale:s}):(0,r.jsx)(j,{mangaId:t,chapters:a,locale:s}),(0,r.jsxs)("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl mb-2",children:"\uD83C\uDFAF"}),(0,r.jsx)("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-1",children:"S\xe9lection Dynamique"}),(0,r.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Changez de chapitre et voyez le preview se mettre \xe0 jour instantan\xe9ment"})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDE80"}),(0,r.jsx)("h4",{className:"font-semibold text-purple-800 dark:text-purple-200 mb-1",children:"Navigation Rapide"}),(0,r.jsx)("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:"Acc\xe9dez directement au premier, dernier ou chapitre du milieu"})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDCBE"}),(0,r.jsx)("h4",{className:"font-semibold text-green-800 dark:text-green-200 mb-1",children:"Cache Intelligent"}),(0,r.jsx)("p",{className:"text-sm text-green-600 dark:text-green-400",children:"Les images se chargent rapidement gr\xe2ce au syst\xe8me de cache optimis\xe9"})]})]}),(0,r.jsxs)("div",{className:"mt-8 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"\uD83D\uDCA1 Comment utiliser le preview interactif :"}),(0,r.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-blue-500",children:"1."}),(0,r.jsx)("span",{children:"Cliquez sur un chapitre dans la liste pour voir son preview"})]}),(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-blue-500",children:"2."}),(0,r.jsx)("span",{children:"Cliquez sur une image de preview pour ouvrir le lecteur"})]}),(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-blue-500",children:"3."}),(0,r.jsx)("span",{children:"Utilisez les boutons de navigation pour changer de chapitre"})]}),(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"text-blue-500",children:"4."}),(0,r.jsx)("span",{children:"Acc\xe9dez rapidement au premier, dernier ou chapitre du milieu"})]})]})]})]})}function k(e){var t;let{item:a,related:s,chapters:c=[],preview:u=[]}=e,{t:p,locale:b}=(0,i.c)(),y=null==(t=c[0])?void 0:t.id,f=y?"/".concat(b,"/reader/").concat(a.id,"/").concat(y):void 0,j=Array.from(new Set(c.map(e=>e.language.toUpperCase())));return(0,r.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[(0,r.jsx)("div",{className:"theme-card p-8",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsx)("img",{src:a.cover,alt:a.title,className:"w-full aspect-[3/4] object-cover rounded-xl shadow-2xl group-hover:scale-105 transition-all duration-300"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,r.jsx)("div",{className:"absolute bottom-4 left-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,r.jsx)(n.Z,{itemId:a.id,className:"w-full bg-white/90 hover:bg-white text-gray-800 shadow-lg"})})]})}),(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-primary mb-2",children:a.title}),a.description&&(0,r.jsx)("p",{className:"text-secondary leading-relaxed whitespace-pre-line line-clamp-5",children:a.description})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3 text-sm text-muted",children:[(0,r.jsxs)("span",{className:"px-2 py-1 rounded bg-surface-elevated",children:[c.length," chapitres"]}),j.length>0&&(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,r.jsx)("span",{className:"text-muted",children:"Langues:"}),j.map(e=>(0,r.jsx)(h,{language:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-primary mb-3",children:p("gallery.tags")}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:a.tags&&a.tags.map(e=>{let t=m.get(e)||m.get(e.toLowerCase())||null,a=t?"/".concat(b,"/search?tags=").concat(t):"/".concat(b,"/search?q=").concat(encodeURIComponent(e));return(0,r.jsxs)(l(),{href:a,className:"tag-primary px-3 py-1 rounded-full transition-all duration-300 text-sm",children:["#",e]},e)})})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4",children:[f?(0,r.jsxs)(l(),{href:f,className:"theme-button-primary px-6 py-3 rounded-xl",children:["\uD83D\uDCD6 ",p("gallery.readNow")]}):(0,r.jsxs)("button",{disabled:!0,className:"theme-button-primary px-6 py-3 rounded-xl opacity-60 cursor-not-allowed",children:["\uD83D\uDCD6 ",p("gallery.readNow")]}),(0,r.jsx)(n.Z,{itemId:a.id,className:"theme-button-secondary"}),(0,r.jsx)(d,{itemId:a.id,title:a.title,className:"theme-button-secondary"}),(0,r.jsx)(o,{itemId:a.id,title:a.title,className:"theme-button-secondary"})]})]})]})}),(0,r.jsxs)("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg border border-gray-200 dark:border-gray-700 rounded-2xl p-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Chapitres"}),f&&(0,r.jsx)(l(),{href:f,className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Lire le plus r\xe9cent →"})]}),(0,r.jsx)(g,{mangaId:a.id,chapters:c,locale:b})]}),(0,r.jsx)(v,{mangaId:a.id,chapters:c,locale:b}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:p("gallery.related")}),(0,r.jsxs)(l(),{href:"/".concat(b,"/popular"),className:"text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300 transition-colors",children:[p("gallery.viewAll")," →"]})]}),(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:s.map((e,t)=>(0,r.jsxs)(l(),{href:"/".concat(b,"/gallery/").concat(e.id),className:"group block bg-white dark:bg-gray-800 rounded-xl overflow-hidden hover:shadow-lg transition-all duration-300 hover:scale-105 animate-fade-in-up",style:{animationDelay:"".concat(100*t,"ms")},children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("img",{src:e.cover,alt:e.title,className:"aspect-[3/4] object-cover w-full group-hover:brightness-110 transition-all duration-300"}),(0,r.jsxs)("div",{className:"absolute top-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded",children:[Math.floor(100*Math.random()),"%"]}),(0,r.jsx)("div",{className:"absolute top-2 left-2",children:(0,r.jsx)(n.FavoriteButtonCompact,{itemId:e.id})})]}),(0,r.jsxs)("div",{className:"p-3",children:[(0,r.jsx)("div",{className:"text-sm text-gray-900 dark:text-white line-clamp-2 group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors",children:e.title}),(0,r.jsx)("div",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400 line-clamp-1",children:e.tags&&e.tags.slice(0,2).join(", ")})]})]},e.id))})]}),(0,r.jsx)("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg border border-gray-200 dark:border-gray-700 rounded-2xl p-8",children:(0,r.jsx)(x,{itemId:a.id})})]})}}},e=>{e.O(0,[96,980,358],()=>e(e.s=5635)),_N_E=e.O()}]);