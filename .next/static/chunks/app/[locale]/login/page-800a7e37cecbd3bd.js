(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{9276:(e,t,s)=>{Promise.resolve().then(s.bind(s,9573))},9573:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(5155),a=s(5695),l=s(8585),i=s(7472),n=s(2115),c=s(3491),o=s(6681);function m(){let e=(0,a.useRouter)(),{t,locale:s}=(0,c.c)(),{login:m,isAuthenticated:d}=(0,o.A)(),[u,h]=(0,n.useState)(null),[p,x]=(0,n.useState)(!1);async function f(r){r.preventDefault(),h(null),x(!0);let a=new FormData(r.currentTarget),l=String(a.get("email")||"").trim(),i=String(a.get("password")||"").trim();if(!l||!i){h(t("auth.loginError")),x(!1);return}let n=await m(l,i);x(!1),n.success?e.push("/".concat(s,"/profile")):h(n.error||t("auth.loginError"))}return(0,n.useEffect)(()=>{d&&e.push("/".concat(s,"/profile"))},[d,e,s]),(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-slate-900 dark:via-blue-900/20 dark:to-purple-900/20",children:[(0,r.jsx)(i.AgeGate,{}),(0,r.jsx)(l.NavBar,{}),(0,r.jsx)("main",{className:"max-w-md mx-auto w-full p-6 pt-20",children:(0,r.jsxs)("div",{className:"theme-card p-8 space-y-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-primary mb-2",children:t("auth.login")}),(0,r.jsx)("p",{className:"text-secondary",children:t("auth.login")})]}),(0,r.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-secondary mb-2",children:t("auth.email")}),(0,r.jsx)("input",{type:"email",id:"email",name:"email",required:!0,className:"theme-input w-full",placeholder:"votre@email.com"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-secondary mb-2",children:t("auth.password")}),(0,r.jsx)("input",{type:"password",id:"password",name:"password",required:!0,className:"theme-input w-full",placeholder:"••••••••"})]}),u&&(0,r.jsx)("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:(0,r.jsx)("p",{className:"text-red-600 dark:text-red-400 text-sm",children:u})}),(0,r.jsx)("button",{type:"submit",disabled:p,className:"theme-button-primary w-full py-3 font-semibold",children:p?(0,r.jsxs)("span",{className:"flex items-center justify-center",children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t("common.loading")]}):t("auth.loginButton")}),(0,r.jsx)("div",{className:"text-center pt-4",children:(0,r.jsx)("a",{href:"/".concat(s,"/signup"),className:"text-primary hover:text-primary-dark transition-colors text-sm",children:t("auth.noAccount")})})]})]})})]})}}},e=>{e.O(0,[96,980,358],()=>e(e.s=9276)),_N_E=e.O()}]);