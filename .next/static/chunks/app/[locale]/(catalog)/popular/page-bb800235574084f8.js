(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{1420:(e,t,r)=>{"use strict";r.d(t,{FavoriteButtonCompact:()=>n,Z:()=>s});var a=r(5155),o=r(2115);function s(e){let{itemId:t,initialIsFavorite:r=!1,className:s=""}=e,[n,i]=(0,o.useState)(r),[l,d]=(0,o.useState)(!1),c=async()=>{d(!0);try{let e=await fetch("/api/favorites",{method:n?"DELETE":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemId:t})});if(e.ok)i(!n),n?console.log("Retir\xe9 des favoris !"):console.log("Ajout\xe9 aux favoris !");else{let t=await e.json();401===e.status?window.location.href="/login":console.error("Erreur:",t.error)}}catch(e){console.error("Erreur r\xe9seau:",e)}finally{d(!1)}};return(0,a.jsxs)("button",{onClick:c,disabled:l,className:"group relative flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed ".concat(s),title:n?"Retirer des favoris":"Ajouter aux favoris",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("svg",{className:"w-5 h-5 transition-all duration-300 ".concat(n?"text-red-500 scale-110":"text-gray-400 dark:text-gray-500 group-hover:text-red-400 group-hover:scale-110"),fill:n?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2*!n,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),l&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin opacity-60"})})]}),(0,a.jsx)("span",{className:"text-sm transition-colors ".concat(n?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400 group-hover:text-red-500"),children:n?"Favori":"Ajouter aux favoris"}),n&&(0,a.jsx)("div",{className:"absolute inset-0 pointer-events-none",children:(0,a.jsx)("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-2",children:(0,a.jsx)("div",{className:"text-red-500 text-xs animate-ping",children:"\uD83D\uDC96"})})})]})}function n(e){let{itemId:t,initialIsFavorite:r=!1}=e,[s,n]=(0,o.useState)(r),[i,l]=(0,o.useState)(!1),d=async()=>{l(!0);try{let e=await fetch("/api/favorites",{method:s?"DELETE":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemId:t})});e.ok?n(!s):401===e.status&&(window.location.href="/login")}catch(e){console.error("Erreur:",e)}finally{l(!1)}};return(0,a.jsx)("button",{onClick:d,disabled:i,className:"p-2 rounded-full transition-all duration-300 hover:scale-110 disabled:opacity-50 ".concat(s?"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400":"bg-white/80 text-gray-500 hover:bg-red-50 hover:text-red-500 dark:bg-slate-800/80 dark:text-gray-400 dark:hover:bg-red-900/20"),title:s?"Retirer des favoris":"Ajouter aux favoris",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:s?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2*!s,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})}},7147:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6874,23)),Promise.resolve().then(r.bind(r,7472)),Promise.resolve().then(r.bind(r,1420)),Promise.resolve().then(r.bind(r,8585))}},e=>{e.O(0,[96,980,358],()=>e(e.s=7147)),_N_E=e.O()}]);